<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Color Button Rows with Dates</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        .buttons {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        .button, .control-button {
            width: 1cm;
            height: 1cm;
            margin: 0 1px;
            border: 1px solid #ccc;
            cursor: pointer;
            display: inline-block;
        }
        .control-button {
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 10px;
        }
        #addRow {
            background-color: #0f9d58;
        }
        #removeRow {
            background-color: #db4437;
        }
        .controls {
            display: flex;
        }
        .date-label {
            margin-left: 10px;
            font-size: 14px;
            white-space: nowrap;
        }
    </style>
</head>
<body>
    <div id="buttonContainer"></div>
    <div class="controls">
        <div class="control-button" id="addRow"></div>
        <div class="control-button" id="removeRow"></div>
    </div>

    <script>
        const colors = ['#ffffff', '#4285f4', '#0f9d58', '#f4b400', '#db4437'];
        const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
        const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

        function createButton(row, index) {
            const button = document.createElement('div');
            button.className = 'button';

            const buttonKey = `button-${row}-${index}`;
            const count = Number(localStorage.getItem(buttonKey)) || 0;
            updateButtonColor(button, count);

            button.addEventListener('click', () => {
                let newCount = (Number(localStorage.getItem(buttonKey)) + 1) % colors.length;
                localStorage.setItem(buttonKey, newCount);
                updateButtonColor(button, newCount);
            });

            return button;
        }

        function updateButtonColor(button, count) {
            button.style.backgroundColor = colors[count];
        }

        function formatDate(date) {
            const day = String(date.getDate()).padStart(2, '0');
            const month = monthNames[date.getMonth()];
            const year = String(date.getFullYear()).slice(-2);
            const dayName = dayNames[date.getDay()];
            return `${day}-${month}-${year}-${dayName}`;
        }

        function addRow() {
            const rowCount = document.getElementById('buttonContainer').childElementCount;
            const buttonRow = document.createElement('div');
            buttonRow.className = 'buttons';

            for (let i = 0; i < 5; i++) {
                const button = createButton(rowCount, i);
                buttonRow.appendChild(button);
            }

            const baseDate = new Date(2025, 3, 9); // Apr 9, 2025 (Months are 0-indexed)
            const currentDate = new Date(baseDate);
            currentDate.setDate(baseDate.getDate() + rowCount); // Calculate date for this row
            const dateLabel = document.createElement('div');
            dateLabel.className = 'date-label';
            dateLabel.textContent = formatDate(currentDate);
            buttonRow.appendChild(dateLabel);

            document.getElementById('buttonContainer').appendChild(buttonRow);
            saveRowCount(rowCount + 1);
        }

        function removeRow() {
            const container = document.getElementById('buttonContainer');
            const rowCount = container.childElementCount;
            if (rowCount > 0) {
                for (let i = 0; i < 5; i++) {
                    localStorage.removeItem(`button-${rowCount - 1}-${i}`);
                }
                container.removeChild(container.lastChild);
                saveRowCount(rowCount - 1);
            }
        }

        function saveRowCount(count) {
            localStorage.setItem('rowCount', count);
        }

        function loadRows() {
            const rowCount = Number(localStorage.getItem('rowCount')) || 0;
            for (let row = 0; row < rowCount; row++) {
                addRow();
            }
        }

        document.getElementById('addRow').addEventListener('click', addRow);
        document.getElementById('removeRow').addEventListener('click', removeRow);

        loadRows();
    </script>
</body>
</html>
